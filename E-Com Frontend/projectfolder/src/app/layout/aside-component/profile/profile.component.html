<div class="aside-wapper">
    <form [formGroup]="UpdateProfile">
        <div class="back-title" routerLink="/"> <i class="bi bi-chevron-left"></i> Edit Profile</div>

        <div class="aside-profile-1 mb-3">
            <mat-tab-group>
                <mat-tab label="Personal Details">
                    <div class="personal-wapper">


                        <div class="upload-profile text-center">
                            <label class="hoverable position-relative" for="fileInput">
                                <div class="profile-img">
                                    <!-- <img [src]="url ? url : 'assets/image/sales-icon/placeholder.png'" /> -->
                                    <img class="img" id="fileInput1"
                                        [src]="profileImage? profileImage : 'assets/image/sales-icon/placeholder.png'">


                                </div>
                                <div class="camera-ic">
                                    <input id="fileInput" type="file" class="select-profile-picture"
                                        (change)="uploadFile1($event)" formControlName="profileImg" />
                                    <img src="assets/image/sales-icon/camera-ic.png">
                                </div>
                            </label>
                        </div>


                        <div class="custom-auth-input mb-4">
                            <mat-label>Full Name</mat-label>
                            <mat-form-field class="w-100" appearance="outline">
                                <input type="text" matInput placeholder="Enter full Name" formControlName="name"
                                    (keypress)="onKeyPress($event)">
                            </mat-form-field>
                            <div *ngIf="submitted && f['name'].errors" class="text-danger">
                                <div *ngIf="f['name'].errors['required']">
                                    Name is required
                                </div>

                            </div>
                        </div>
                        <!-- <div class="custom-auth-input mb-4">
                        <mat-label>Last Name</mat-label>
                        <mat-form-field class="w-100" appearance="outline">
                            <input type="text" matInput placeholder="Enter Last Name"  formControlName="lastName" onkeypress="return event.charCode > 64&& event.charCode < 123;">
                        </mat-form-field>  
                        <div *ngIf="submitted && f['lastName'].errors" class="text-danger">
                            <div *ngIf="f['lastName'].errors['required']">
                                 Last Name is required
                            </div>
                          
                          </div>
                    </div> -->

                        <div class="custom-auth-input  mb-4">
                            <mat-label>Mobile Number</mat-label>
                            <!-- <div class="all-country">
                            <input type="text" class="form-control w-100 textField" minlength="8" maxlength="12"
                                placeholder="Enter Mobile Number"  formControlName="phoneNumber" ng2TelInput
                                [ng2TelInputOptions]="{initialCountry: 'us', showFlags:true,separateDialCode: true,autoPlaceholder:'off' }"
                                (intlTelInputObject)="telInputObject($event)"    onkeypress="return event.charCode > 47 && event.charCode < 58;"/>
                        </div> -->

                            <mat-form-field class="w-100" appearance="outline">
                                <span matPrefix class="input-group-text">+966 <i class="bi bi-caret-down-fill"></i>
                                </span>

                                <input type="text" matInput class="w-100 textField" readonly minlength="7"
                                    maxlength="15" placeholder="Enter Mobile Number" formControlName="phoneNumber"
                                    (intlTelInputObject)="telInputObject($event)"
                                    onkeypress="return event.charCode > 47 && event.charCode < 58;" />
                                <span matSuffix class="update-pnl" (click)="updateMobile()"> Update Mobile Number
                                </span>
                            </mat-form-field>


                            <div *ngIf="submitted && f['phoneNumber'].errors" class="text-danger">
                                <div *ngIf="f['phoneNumber'].errors['required']">
                                    Mobile Number is required
                                </div>

                            </div>
                        </div>

                        <div class="custom-auth-input mb-4">
                            <mat-label>Email</mat-label>
                            <mat-form-field class="w-100" appearance="outline">
                                <input type="text" matInput placeholder="Enter Email Address" formControlName="email">
                            </mat-form-field>
                            <div *ngIf="submitted && f['email'].errors" class="text-danger">
                                <div *ngIf="f['email'].errors['required']">
                                    Email is required
                                </div>

                            </div>
                        </div>

                        <div class="action-btn my-3">
                            <button mat-flat-button color="primary" class=" m-auto w-100" (click)="onSubmit()">
                                Save</button>
                        </div>
                    </div>

                </mat-tab>

                <mat-tab label="Business Details">
                    <form [formGroup]="userForm">
                        <div class="personal-wapper">
                            <div formGroupName="businessDetails">
                                <div class="custom-auth-input mb-2">
                                    <mat-label>Business Name</mat-label>
                                    <mat-form-field class="w-100" appearance="outline">
                                        <input type="text" matInput placeholder="Enter Business Name"
                                            formControlName="businessName">
                                    </mat-form-field>
                                    <div *ngIf="submitted && userForm.get('businessDetails.businessName')?.invalid"
                                        class="text-danger">
                                        <div *ngIf="userForm.get('businessDetails.businessName')?.errors?.['required']">
                                            Business Name Is Required
                                        </div>

                                    </div>
                                </div>
                            </div>

                            <div class="custom-auth-input mb-4">
                                <mat-label>Delivery Address</mat-label>
                                <mat-form-field class="w-100" appearance="outline">
                                    <!-- <input type="text" matInput placeholder="Enter Address (Location)" formControlName="address"> -->
                                    <input (keydown.enter)="$event.preventDefault()" matInput
                                        class=" srch location-padding" #search1 type="text" onpaste="return false;"
                                        placeholder="Enter Delivery Address" ondrop="return false;"
                                        formControlName="address" />
                                </mat-form-field>
                                <div *ngIf="submitted && g['address'].errors" class="text-danger">
                                    <div *ngIf="g['address'].errors['required']">
                                        Address is required
                                    </div>

                                </div>
                            </div>
                            <div formGroupName="businessDetails">
                                <div class="custom-auth-input mb-4">
                                    <mat-label>VAT Number</mat-label>
                                    <mat-form-field class="w-100" appearance="outline">
                                        <input type="text" matInput placeholder="Enter VAT Number"
                                            formControlName="VATNumber" maxlength="15"
                                            onkeypress="return event.charCode > 47 && event.charCode < 58;">
                                    </mat-form-field>
                                    <div *ngIf="submitted && userForm.get('businessDetails.VATNumber')?.invalid"
                                        class="text-danger">
                                        <div *ngIf="userForm.get('businessDetails.VATNumber')?.errors?.['required']">
                                            VAT Number Is Required
                                        </div>
                                        <div *ngIf="userForm.get('businessDetails.VATNumber')?.errors?.['minlength']">
                                            VAT Number should be 15 digits
                                        </div>
                                    </div>
                                </div>
                                <!-- </div> -->


                                <h6 class="mt-3">CR Document<small>*</small></h6>
                                <div class="custom-auth-input mb-3">
                                    <mat-form-field class="w-100" appearance="outline">
                                        <input type="text" matInput placeholder="Enter CR Number"
                                            formControlName="CRNumber" maxlength="10"
                                            onkeypress="return event.charCode > 47 && event.charCode < 58;">
                                    </mat-form-field>
                                    <div *ngIf="submitted && userForm.get('businessDetails.CRNumber')?.invalid"
                                        class="text-danger">
                                        <div *ngIf="userForm.get('businessDetails.CRNumber')?.errors?.['required']">
                                            CR Number is required
                                        </div>
                                        <div *ngIf="userForm.get('businessDetails.CRNumber')?.errors?.['minlength']">
                                            CR Number must be exactly 10 digits
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row pt-2">
                                <div class="col-lg-6 col-md-6 text-center">
                                    <div class="file-upload ">
                                        <label class="cameradiv">
                                            <!-- <img src="assets/image/upload_image.png"> -->
                                            <input type="file" name="somename" (change)="uploadFile($event, 'CRFront')"
                                                accept="image/*" class="cursor-pointer" />
                                            <span class="upimg" *ngIf="!CRDocumentFront">Upload Image</span>

                                        </label>
                                        <div class="img">
                                            <img *ngIf="!CRDocumentFront" src="assets/image/upload_image.png" />
                                            <img id="fileInput1" [src]="CRDocumentFront" class="img-fluid" height="100%"
                                                width="100%" />
                                        </div>
                                    </div>
                                    <span class="logo-name">Frontside</span>
                                </div>

                                <div class="col-lg-6 col-md-6 text-center">
                                    <div class="file-upload ">
                                        <label class="cameradiv">
                                            <!-- <img src="assets/image/upload_image.png"> -->
                                            <input type="file" name="somename" (change)="uploadFile($event, 'CRBack')"
                                                accept="image/*" class="cursor-pointer" />
                                            <span class="upimg" *ngIf="!CRDocumentBack">Upload Image</span>

                                        </label>
                                        <div class="img">
                                            <img *ngIf="!CRDocumentBack" src="assets/image/upload_image.png" />
                                            <img id="fileInput1" [src]="CRDocumentBack" class="img-fluid" height="100%"
                                                width="100%" />
                                        </div>
                                    </div>
                                    <span class="logo-name">Backside</span>
                                </div>
                            </div>
                            <h6>VAT Document</h6>
                            <div class="row pt-2">
                                <div class="col-lg-6 col-md-6 text-center">
                                    <div class="file-upload ">
                                        <label class="cameradiv">
                                            <!-- <img src="assets/image/upload_image.png"> -->
                                            <input type="file" name="somename" (change)="uploadFile($event, 'VATFront')"
                                                accept="image/*" class="cursor-pointer" />
                                            <span class="upimg" *ngIf="!VATDocFront">Upload Image</span>

                                        </label>
                                        <div class="img">
                                            <img *ngIf="!VATDocFront" src="assets/image/upload_image.png" />
                                            <img id="fileInput1" [src]="VATDocFront" class="img-fluid" height="100%"
                                                width="100%" />
                                        </div>
                                    </div>
                                    <span class="logo-name">Frontside</span>
                                </div>

                                <div class="col-lg-6 col-md-6 text-center">
                                    <div class="file-upload ">
                                        <label class="cameradiv">
                                            <!-- <img src="assets/image/upload_image.png"> -->
                                            <input type="file" name="somename" (change)="uploadFile($event, 'VATBack')"
                                                accept="image/*" class="cursor-pointer" />
                                            <span class="upimg" *ngIf="!VATDocBack">Upload Image</span>

                                        </label>
                                        <div class="img">
                                            <img *ngIf="!VATDocBack" src="assets/image/upload_image.png" />
                                            <img id="fileInput1" [src]="VATDocBack" class="img-fluid" height="100%"
                                                width="100%" />
                                        </div>
                                    </div>
                                    <span class="logo-name">Backside</span>
                                </div>
                            </div>

                            <h6>National Address Proof</h6>
                            <div class="row pt-2">
                                <div class="col-lg-6 col-md-6 text-center">
                                    <div class="file-upload ">
                                        <label class="cameradiv">
                                            <!-- <img src="assets/image/upload_image.png"> -->
                                            <input type="file" name="somename"
                                                (change)="uploadFile($event, 'addressFront')" accept="image/*"
                                                class="cursor-pointer" />
                                            <span class="upimg" *ngIf="!addressProofFront">Upload Image</span>

                                        </label>
                                        <div class="img">
                                            <img *ngIf="!addressProofFront" src="assets/image/upload_image.png">
                                            <img id="fileInput1" [src]="addressProofFront" class="img-fluid"
                                                height="100%" width="100%" />
                                        </div>
                                    </div>
                                    <span class="logo-name">Frontside</span>
                                </div>

                                <div class="col-lg-6 col-md-6 text-center">
                                    <div class="file-upload ">
                                        <label class="cameradiv">
                                            <!-- <img src="assets/image/upload_image.png"> -->
                                            <input type="file" name="somename"
                                                (change)="uploadFile($event, 'addressback')" accept="image/*"
                                                class="cursor-pointer" />
                                            <span class="upimg" *ngIf="!addressProofBack">Upload Image</span>

                                        </label>
                                        <div class="img">
                                            <img *ngIf="!addressProofBack" src="assets/image/upload_image.png" />
                                            <img id="fileInput1" [src]="addressProofBack" class="img-fluid"
                                                height="100%" width="100%" />
                                        </div>
                                    </div>
                                    <span class="logo-name">Backside</span>
                                </div>
                            </div>
                            <h6>ID Proof</h6>

                            <div class="row pt-2 mb-3">
                                <div class="col-lg-6 col-md-6 text-center">
                                    <div class="file-upload ">
                                        <label class="cameradiv">
                                            <!-- <img src="assets/image/upload_image.png"> -->
                                            <input type="file" name="somename" (change)="uploadFile($event, 'IDFront')"
                                                accept="image/*" class="cursor-pointer" />
                                            <span class="upimg" *ngIf="!IDProofFront">Upload Image</span>
                                        </label>
                                        <div class="img">
                                            <img *ngIf="!IDProofFront" src="assets/image/upload_image.png" />
                                            <img id="fileInput1" [src]="IDProofFront" class="img-fluid" height="100%"
                                                width="100%" />
                                        </div>
                                    </div>
                                    <span class="logo-name">Frontside</span>
                                </div>

                                <div class="col-lg-6 col-md-6 text-center">
                                    <div class="file-upload ">
                                        <label class="cameradiv">
                                            <!-- <img src="assets/image/upload_image.png"> -->
                                            <input type="file" name="somename" (change)="uploadFile($event, 'IDBack')"
                                                accept="image/*" class="cursor-pointer" />
                                            <span class="upimg" *ngIf="!IDProofBack">Upload Image</span>
                                        </label>
                                        <div class="img">
                                            <img *ngIf="!IDProofBack" src="assets/image/upload_image.png" />
                                            <img id="fileInput1" [src]="IDProofBack" class="img-fluid" height="100%"
                                                width="100%" />
                                        </div>
                                    </div>
                                    <span class="logo-name">Backside</span>
                                </div>
                            </div>

                            <h6>Shop Image</h6>

                            <div class="row pt-2">
                                <div class="col-lg-6 col-md-6 text-center">
                                    <div class="file-upload">
                                        <label class="cameradiv">
                                            <!-- <img src="assets/image/upload_image.png"> -->
                                            <input type="file" name="somename"
                                                (change)="uploadFile($event, 'shopFront')" accept="image/*"
                                                class="cursor-pointer" />
                                            <span class="upimg" *ngIf="!shopImageFront">Upload Image</span>

                                        </label>
                                        <div class="img">
                                            <img *ngIf="!shopImageFront" src="assets/image/upload_image.png" />
                                            <img id="fileInput1" [src]="shopImageFront" class="img-fluid" height="100%"
                                                width="100%" />
                                        </div>
                                    </div>
                                    <span class="logo-name">Frontside</span>
                                </div>

                                <div class="col-lg-6 col-md-6 text-center">
                                    <div class="file-upload ">
                                        <label class="cameradiv">
                                            <!-- <img src="assets/image/upload_image.png"> -->
                                            <input type="file" name="somename" (change)="uploadFile($event, 'shopBack')"
                                                accept="image/*" class="cursor-pointer" />
                                            <span class="upimg" *ngIf="!shopImageBack">Upload Image</span>

                                        </label>
                                        <div class="img">
                                            <img *ngIf="!shopImageBack" src="assets/image/upload_image.png" />
                                            <img id="fileInput1" [src]="shopImageBack" class="img-fluid" height="100%"
                                                width="100%" />
                                        </div>
                                    </div>
                                    <span class="logo-name">Backside</span>
                                </div>
                            </div>

                            <div class="action-btn my-3">
                                <button type="submit" mat-flat-button color="primary" class=" m-auto w-100"
                                    (click)="Submitbissness()">Save</button>
                            </div>

                        </div>

                    </form>
                </mat-tab>
            </mat-tab-group>
        </div>



    </form>
</div>